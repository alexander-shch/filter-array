import{w as S}from"./with-props-CIdAc0H9.js";import{o as e,s as u,a as $}from"./chunk-DQRVZFIR-BNQGHaMj.js";function R({filter:n,value:t,onChange:l}){const s=n.properties.options;return e.jsxs("select",{value:String(t??""),onChange:a=>l(a.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),s.map(a=>e.jsx("option",{value:a.value,children:a.text},a.value))]})}function F({filter:n,value:t,onChange:l}){return e.jsx("input",{type:"checkbox",checked:!!t,onChange:s=>l(s.target.checked)})}function I({filter:n,value:t,onChange:l}){return e.jsx("input",{autoFocus:!0,type:"text",value:String(t??""),onChange:s=>l(s.target.value)})}function N(n){switch(n.type){case"select":return`<label>${n.label??""}
  <select name="${n.name}">
    <option value="">Select...</option>
    ${n.properties.options.map(t=>`<option value="${t.value}">${t.text}</option>`).join(`
    `)}
  </select>
</label>`;case"checkbox":return`<label>
  <input type="checkbox" name="${n.name}" /> ${n.label??""}
</label>`;case"text":return`<label>${n.label??""}
  <input type="text" name="${n.name}" />
</label>`;case"custom":return`<label>${n.label??""}
  <!-- Custom render -->
</label>`;default:return"<Unknown filter type>"}}function W({open:n,onClose:t,children:l}){return n?e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:t,children:e.jsxs("div",{style:{background:"#fff",color:"black",padding:24,borderRadius:8,minWidth:320,maxWidth:600,boxShadow:"0 2px 16px rgba(0,0,0,0.2)"},onClick:s=>s.stopPropagation(),children:[e.jsx("button",{style:{float:"right",fontSize:18,border:"none",background:"none",cursor:"pointer"},onClick:t,children:"×"}),e.jsx("div",{style:{clear:"both"}}),l]})}):null}function z({label:n,onClick:t,showClear:l,onClear:s}){return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",margin:4},children:[e.jsx("button",{type:"button",onClick:t,style:{display:"inline-flex",alignItems:"center",padding:"6px 14px",borderRadius:16,background:"#e0e7ef",border:"none",cursor:"pointer",fontWeight:500,fontSize:14,paddingRight:l?24:14},children:n}),l&&e.jsx("button",{type:"button",onClick:s,style:{marginLeft:-22,background:"none",border:"none",cursor:"pointer",fontSize:16,color:"#888",padding:0,display:"flex",alignItems:"center"},"aria-label":"Clear",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 4L12 12M12 4L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})}function A({open:n,anchorEl:t,onClose:l,children:s}){if(!n||!t)return null;const a=t.getBoundingClientRect();return e.jsx("div",{style:{position:"fixed",top:a.bottom+6,left:a.left,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.15)",zIndex:2e3,minWidth:220,padding:16},children:e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{style:{position:"absolute",top:2,right:2,border:"none",background:"none",fontSize:18,cursor:"pointer"},onClick:l,children:"×"}),s]})})}function L(n,t,l){switch(n.type){case"select":return e.jsx(R,{filter:n,value:t,onChange:l});case"checkbox":return e.jsx(F,{filter:n,value:t,onChange:l});case"text":return e.jsx(I,{filter:n,value:t,onChange:l});case"custom":return n.render(t,l);default:return null}}function M({config:n,value:t,onChange:l}){const[s,a]=u.useState(!1),[m,b]=u.useState(""),[g,x]=u.useState(null),[f,h]=u.useState(null);function j(o,c){l({...t,[o]:c})}function y(o){b(N(o)),a(!0)}function v(o,c){x(o),h(c.currentTarget)}function C(){x(null),h(null)}return e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:n.map((o,c)=>{const r=t[o.name];let d=o.label??o.name,p=!1;if(o.type==="select"&&r){const i=o.properties.options.find(w=>w.value===r);i&&(d=`${o.label??o.name}: ${i.text}`),p=!!r}else o.type==="checkbox"?(d=`${o.label??o.name}: ${r?"Yes":"No"}`,p=r===!0):o.type==="text"&&r?(d=`${o.label??o.name}: ${r}`,p=!!r):o.type==="custom"&&r!==void 0&&r!==null&&r!==""&&(d=`${o.label??o.name}: ${r}`,p=!0);const k=i=>{i.stopPropagation(),l({...t,[o.name]:void 0}),x(null),h(null)};return e.jsxs(u.Fragment,{children:[e.jsx(z,{label:d,onClick:i=>v(c,i),showClear:p,onClear:k}),e.jsxs(A,{open:g===c,anchorEl:f,onClose:C,children:[e.jsx("div",{style:{marginBottom:12},children:e.jsx("strong",{children:o.label??o.name})}),L(o,t[o.name],i=>j(o.name,i)),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{type:"button",onClick:()=>y(o),style:{padding:"4px 10px",borderRadius:4,border:"1px solid #ccc",background:"#f5f5f5",cursor:"pointer"},children:"Show Code"})})]})]},o.name)})}),e.jsxs(W,{open:s,onClose:()=>a(!1),children:[e.jsx("h3",{style:{marginTop:0},children:"Filter Implementation"}),e.jsx("pre",{style:{background:"#f4f4f4",padding:12,borderRadius:4,overflowX:"auto"},children:m})]})]})}const P=[{type:"select",label:"Gender",name:"gender",properties:{options:[{text:"Female",value:"female"},{text:"Male",value:"male"}]}},{type:"checkbox",label:"Active",name:"active"},{type:"text",label:"Name",name:"name"},{type:"custom",label:"Custom Age",name:"age",render:(n,t)=>e.jsx("input",{type:"number",value:n??"",onChange:l=>t(Number(l.target.value)),placeholder:"Age",style:{width:"100%"}})}];function T(){const[n,t]=$.useState({});return e.jsx("main",{className:"flex items-center justify-center pt-16 pb-4",children:e.jsx("div",{className:"flex-1 flex flex-col items-center gap-16 min-h-0",children:e.jsxs("div",{className:"max-w-[300px] w-full space-y-6 px-4",children:[e.jsx(M,{config:P,value:n,onChange:t}),e.jsxs("ul",{style:{marginTop:16,fontSize:14,color:"#333"},children:[Object.entries(n).length===0&&e.jsx("li",{children:"No filters selected"}),Object.entries(n).map(([l,s])=>s!=null&&s!==""?e.jsxs("li",{children:[e.jsxs("strong",{children:[l.charAt(0).toUpperCase()+l.slice(1),":"]})," ",typeof s=="boolean"?s?"Yes":"No":s]},l):null)]})]})})})}function E({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const U=S(function(){return e.jsx(T,{})});export{U as default,E as meta};
